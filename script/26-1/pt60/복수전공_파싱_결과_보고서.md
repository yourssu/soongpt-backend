# 복수전공 데이터 파싱 결과 보고서

> 생성일: 2026-02-09
> 소스: `ssu26-1.csv` (이수구분(다전공) 컬럼)
> 출력: `26-1-course-secondary-major-inserts.sql`

---

## ✅ 파싱 성공

### 📊 전체 통계

| 항목 | 수량 |
|------|------|
| **파싱된 토큰** | 3,358개 |
| **생성된 INSERT 문** | 3,358개 |
| **미매핑 학과** | 0개 ✅ |
| **무시된 토큰** | 65개 |
| **참여 학과** | 48개 |

### 📈 이수구분별 통계

| 이수구분 | 개수 | 설명 |
|---------|------|------|
| **복선** (복수전공 선택) | 1,468 | DOUBLE_MAJOR + ELECTIVE |
| **복필** (복수전공 필수) | 298 | DOUBLE_MAJOR + REQUIRED |
| **부선** (부전공 선택) | 1,582 | MINOR + ELECTIVE |
| **부필** (부전공 필수) | 10 | MINOR + REQUIRED |
| **타전공인정** | 0 | CROSS_MAJOR + RECOGNIZED |

**총합**: 3,358개

### ✨ PT-60 계획서 검증

| 항목 | 계획서 예상 | 실제 파싱 | 일치 여부 |
|------|------------|----------|-----------|
| 복선 | 1,468 | 1,468 | ✅ 100% |
| 복필 | 298 | 298 | ✅ 100% |
| 부선 | 1,582 | 1,582 | ✅ 100% |
| 부필 | 10 | 10 | ✅ 100% |
| 타전공인정 | 0 | 0 | ✅ 100% |

---

## 🔧 수정 사항

### DEPARTMENT_ALIAS 추가

다음 2개의 학과 alias를 추가했습니다:

```python
"건축공학": "건축학부 건축공학전공"
"경제": "경제학과"
```

---

## 🏆 상위 10개 학과 (총 과목 수 기준)

| 순위 | 학과 ID | 총 과목 | 복필 | 복선 | 부필 | 부선 | 비고 |
|------|---------|---------|------|------|------|------|------|
| 1 | 11 | 312 | 78 | 78 | 2 | 154 | 경영학부 |
| 2 | 9 | 178 | 4 | 85 | 0 | 89 | AI소프트웨어학부 |
| 3 | 2 | 173 | 15 | 72 | 0 | 86 | AI융합학부 |
| 4 | 21 | 140 | 12 | 58 | 0 | 70 | 글로벌통상학과 |
| 5 | 7 | 130 | 12 | 53 | 0 | 65 | 전자정보공학부 전자공학전공 |
| 6 | 31 | 126 | 12 | 51 | 0 | 63 | 전기공학부 |
| 7 | 6 | 120 | 11 | 49 | 0 | 60 | IT융합전공 |
| 8 | 18 | 120 | 19 | 41 | 0 | 60 | 회계학과 |
| 9 | 14 | 116 | 19 | 39 | 3 | 55 | 벤처중소기업학과 |
| 10 | 28 | 102 | 9 | 42 | 3 | 48 | 기계공학부 |

---

## 🚫 무시된 토큰 (65개)

복수전공/부전공 범위 밖의 토큰들 (융선, 심선, 연선, 연계 등):

```
- 심선-차세대반도체심화
- 연계1-융합창업
- 연계2-융합창업
- 연선-차세대반도체연계
- 융선-AI로봇융합
- 융선-AI모빌리티융합
- 융선-ICT유통물류융합
- 융선-게임시나리오기획
- 융선-계산과학융합
- 융선-공공정책융합
- ... (총 65개)
```

**참고**: 이들은 PT-60 범위 밖의 이수구분으로, 의도적으로 무시되었습니다.

---

## 📋 데이터베이스 스키마

### `course_secondary_major_classification` 테이블

| 컬럼 | 타입 | 설명 |
|------|------|------|
| `course_code` | INT | 과목 코드 (FK) |
| `track_type` | ENUM | DOUBLE_MAJOR / MINOR |
| `completion_type` | ENUM | REQUIRED / ELECTIVE / RECOGNIZED |
| `department_id` | INT | 학과 ID (FK) |
| `raw_classification` | VARCHAR | 원본 이수구분 (복필/복선/부필/부선) |
| `raw_department_token` | VARCHAR | 원본 학과 토큰 |

### 유니크 키

```sql
UNIQUE KEY (course_code, track_type, completion_type, department_id)
```

중복 제거가 적용되어 동일한 (과목코드, 트랙타입, 완료타입, 학과ID) 조합은 한 번만 저장됩니다.

---

## 🎯 다음 단계

### 1. 스키마 적용
```bash
mysql -u <user> -p <database> < script/26-1/pt60/01_pt60_schema_changes.sql
```

### 2. 데이터 적재
```bash
mysql -u <user> -p <database> < script/26-1/target_parser/output/26-1-course-inserts.sql
mysql -u <user> -p <database> < script/26-1/target_parser/output/26-1-target-inserts.sql
mysql -u <user> -p <database> < script/26-1/target_parser/output/26-1-course-secondary-major-inserts.sql
```

### 3. 검증 쿼리

#### 3.1 총 레코드 수 확인
```sql
SELECT COUNT(*) FROM course_secondary_major_classification;
-- 예상: 3,358
```

#### 3.2 복수전공 운영 학과 목록
```sql
SELECT
    d.name AS 학과명,
    COUNT(CASE WHEN track_type = 'DOUBLE_MAJOR' AND completion_type = 'REQUIRED' THEN 1 END) AS 복필,
    COUNT(CASE WHEN track_type = 'DOUBLE_MAJOR' AND completion_type = 'ELECTIVE' THEN 1 END) AS 복선,
    COUNT(*) AS 총합
FROM course_secondary_major_classification csmc
JOIN department d ON csmc.department_id = d.id
WHERE track_type = 'DOUBLE_MAJOR'
GROUP BY d.id, d.name
ORDER BY 총합 DESC;
```

#### 3.3 특정 학과의 복수전공 과목 목록
```sql
SELECT
    c.code,
    c.name,
    csmc.completion_type,
    csmc.raw_classification
FROM course_secondary_major_classification csmc
JOIN course c ON csmc.course_code = c.code
JOIN department d ON csmc.department_id = d.id
WHERE d.name = '컴퓨터학부'
  AND csmc.track_type = 'DOUBLE_MAJOR'
ORDER BY csmc.completion_type, c.code;
```

---

## ✅ 검증 체크리스트

- [x] 미매핑 학과 토큰 0건
- [x] 총 파싱 토큰 수 3,358개 (계획서와 일치)
- [x] 복필 298개 (계획서와 일치)
- [x] 복선 1,468개 (계획서와 일치)
- [x] 부필 10개 (계획서와 일치)
- [x] 부선 1,582개 (계획서와 일치)
- [x] 타전공인정 0개 (계획서와 일치)
- [x] SQL INSERT 문 생성 완료
- [ ] DB 스키마 적용
- [ ] 데이터 적재 완료
- [ ] API 테스트 완료

---

## 📝 참고

- 원본 CSV: `script/26-1/course/ssu26-1.csv`
- 파싱 스크립트: `script/26-1/target_parser/generate_secondary_major_inserts.py`
- 출력 SQL: `script/26-1/target_parser/output/26-1-course-secondary-major-inserts.sql`
- 계획서: `script/26-1/pt60/PT60_DATA_CLEANING_PLAN.md`

---

*이 보고서는 자동 생성되었습니다.*

# [PT-176] 교필 "한반도평화와통일" field 누락 보정 보고서 (2026-02-14)

## 1) 배경 / 문제
- `course` 테이블에서 **교양필수(GENERAL_REQUIRED)** 과목인 `한반도평화와통일`의 일부 분반(예: `2150663402`)이 `field` 값이 비어있었습니다.
- 교양 과목 추천/분야 그룹핑 로직(`GeneralCourseRecommendService`)은 `course.field`를 기반으로 분야명을 파싱하므로, `field`가 빈 문자열이면 해당 과목이 추천/그룹핑에서 제외될 수 있습니다.

## 2) 공식 근거(인터넷)
- 숭실대학교 공식 안내 페이지(교양필수 교과과정)에서 `한반도평화와통일`이 **교양필수**로 명시되어 있습니다.
  - 링크: https://ssu.ac.kr/학사/교육·교과과정/교과과정/교양필수/
  - 근거(1): **“2023학년도 이후 입학자 교양필수 교과과정”** 표에 `한반도평화와통일 (1/1)` 포함
  - 근거(2): 동일 페이지의 **“입학년도 별 교양필수 교과과정”** 표에서도 `한반도평화와통일 (1/1)`이
    - 2023학년도
    - 2021~2022학년도
    - 2020학년도
    - 2019학년도
    항목에 모두 기재되어 있어, **23학번 이전에도 교필**임을 확인할 수 있습니다.

## 3) 변경 대상(soongpt_dev)
- `course.name = '한반도평화와통일'` AND `category = 'GENERAL_REQUIRED'`
- 확인된 분반 코드:
  - `2150663401`
  - `2150663402`

### 변경 전
```sql
SELECT code, name, category, sub_category, field
FROM course
WHERE name = '한반도평화와통일'
ORDER BY code;
```

결과:
```
2150663401  한반도평화와통일  GENERAL_REQUIRED  교필  (빈 문자열)
2150663402  한반도평화와통일  GENERAL_REQUIRED  교필  (빈 문자열)
```

## 4) 변경 내용
- 기존 교필 field 포맷(예: `교필-['23이후]품격(글로벌시민의식)`)과 동일하게,
  `한반도평화와통일`을 **품격 영역의 교필**로 매핑하여 다음 값으로 보정했습니다.

- 설정 값(입학년도별 매핑 포함):
```text
교필-['23이후]품격(한반도평화와통일)
교필-['19-'22]품격(한반도평화와통일)
```

> 참고(인터넷 근거): 23학번 이전도 숭실대 공식 교양필수 안내 페이지의
> “입학년도 별 교양필수 교과과정” 표(2019/2020/2021~2022/2023)에서 `한반도평화와통일 (1/1)`이
> **품격 영역**으로 표기되어 있어, 동일하게 `품격(한반도평화와통일)`로 매핑했습니다.

- 적용 SQL:
  - `script/26-1/sql/pt-176_fix_general_required_field_hanpyeongtong.sql`
  - `script/26-1/sql/pt-176_fix_general_required_field_hanpyeongtong_verify.sql`

## 5) 변경 후
```sql
SELECT code, name, category, sub_category, field
FROM course
WHERE name = '한반도평화와통일'
ORDER BY code;
```

결과(요약):
```text
2150663401  한반도평화와통일  GENERAL_REQUIRED  교필
  교필-['23이후]품격(한반도평화와통일)
  교필-['19-'22]품격(한반도평화와통일)

2150663402  한반도평화와통일  GENERAL_REQUIRED  교필
  교필-['23이후]품격(한반도평화와통일)
  교필-['19-'22]품격(한반도평화와통일)
```

## 6) 비고
- 본 변경은 데이터 보정이며 스키마 변경은 없습니다.
- 운영/배포 환경에 동일 증상이 있는 경우, 위 SQL을 그대로 적용하면 됩니다.

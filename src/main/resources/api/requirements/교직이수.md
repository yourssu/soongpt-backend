### 교직이수

전공영역-교과교육영역, 교직영역, 특성화 이렇게 분리

### 목적

사용자가 이번 학기에 들어야하는 교직이수 과목을 알 수 있게 하기 위함

Input
토큰(사용자의 학번, 학과, 학년, 이때가지 수강한 과목, 교직이수 여부, 교직이수 전공 이름)

Logic

1. 전공영역-교과교육영역에 해당하는 과목 -> 과목명검색-"교직"쳐야 나온다.
   1. 사용자의 교직전공에 맞는 교과교육영역 과목을 조회
      1. ex)교직전공-IT융합 -> 공업교과교육론
      2. ex)교직전공-물리 -> 과학교과논리및논술
   2. 이미 들은 과목을 제외
2. 교직영역에 해당하는 과목 -> 교직탭 클릭해서 나오는 과목
   1. 전체 불러오기
   2. 이미 들은 과목을 제외
3. 특성화 과목
   1. 과목 불러오기(걍 2학기 과목도 일단 적어봄)
      1. 교원양성특강1(1학기 과목) 2150900001
      2. 한국교육의이슈와토론(1학기, 2학기 과목) 2150638301
      3. 교원양성특강2(2학기 과목)
      4. 청소년발달과정신건강(2학기 과목)
   2. 이미 들은 과목을 제외

Output

1. 각 파트별로(교과교육영역, 교직영역, 특성화) 묶은 과목들 정보(뭐 이제 계속 했던 얘기라서 안쓰겠습니다)
   1. 분반 묶어서인데 이번학기 기준으로는 분반이 없음!
   2. 그래도 응답일관성 있게 필요. (과목코드마지막 2자리를 division 필드에 넣어야함)

### 특이사항

졸업사정표에 애초에 존재하지않음.

대신 전공, 교직, 특성화 이렇게 나누고 애초에 조회를 나눠서하는게 효율적일지도?
[/api/courses/teaching](https://api.dev.soongpt.yourssu.com/swagger-ui/index.html#/Course/getTeachingCourses) 을 참고했을때 MAJOR AREA 대분류 3개로 나눠서 조회하고
거기에서 걍 사용자 기이수과목코드를 8자리로 비교해서 제외시키고
flat하게 한다음 그룹핑은 프론트가 하지만 그 그룹핑기준에 대해서는 백엔드가 보내야하니까
field에다 MAJOR AREA를 넣는식으로?

### 클로드 플랜

**Context**

 recommend/all 엔드포인트에 category=TEACHING 지원을 추가한다.
 현재 RecommendCategory.TEACHING은 enum에 존재하지만 dispatch에서 throw 상태이다.
 기존 팀원이 구현한 교직 조회 로직(targetReader, courseReader, TeachingMajorArea)을 그대로 재사용한다.

**변경 파일 목록**

TeachingCourseRecommendService.kt    │ 신규 │ 교직이수 추천 비즈니스 로직
 │ CourseRecommendApplicationService.kt │ 수정 │ TEACHING dispatch 연결
 │ CourseRecommendResponse.kt           │ 수정 │ forTeaching() factory 메서드 추가 │
 새 repository 메서드 없음 — 기존 검증된 메서드 재사용 -> 레오 감사합니다 !

 Step 1: TeachingCourseRecommendService 생성

 src/main/kotlin/.../course/business/TeachingCourseRecommendService.kt

 기존 CourseServiceImpl.findAllTeachingCourses() (line 385-422)와 동일한 조회 로직 재사용:

1. ctx.flags.teaching == false → "교직이수 대상이 아닙니다." 반환
2. department = departmentReader.getByName(ctx.departmentName)
3. 과목코드 조회 (기존 로직 그대로):
   - (1..5).flatMap { grade ->
     targetReader.findAllByDepartmentGrade(department, grade) +
     targetReader.findAllByDepartmentGradeForTeaching(department, grade)
     }.distinct()
4. courseReader.findAllInCategory(Category.TEACHING, allCourseCodes, ctx.schoolId)
5. 기이수과목 제외: toTakenBaseCodeSet() → baseCode 비교 필터링
6. course.field 기준으로 TeachingMajorArea 매핑 (contains 매칭)
7. 영역 순서(전공영역→교직영역→특성화영역)로 정렬, 영역 내 과목명 순
8. RecommendedCourseResponse.forTeaching() 으로 변환

 응답 특성:

- progress = 졸업사정표 없으면 `-2,-2,false`(제공 불가). null 아님. → progress_프론트_가이드.md
- timing = null (LATE/ON_TIME 개념 없음)
- field = TeachingMajorArea.displayName ("전공영역", "교직영역", "특성화영역")

 의존성: DepartmentReader, TargetReader, CourseReader (모두 기존 컴포넌트)


Step 2: RecommendedCourseResponse.forTeaching() 추가

 CourseRecommendResponse.kt — forRetake() 패턴 참고:

- Course 리스트 → baseCode 그룹핑 → RecommendedCourseResponse
- timing = null, department = null, field = 영역이름

 Step 3: Dispatch 연결

 CourseRecommendApplicationService.kt:

- 생성자에 TeachingCourseRecommendService 주입
- RecommendCategory.TEACHING case에서 teachingCourseRecommendService.recommend(ctx) 호출
